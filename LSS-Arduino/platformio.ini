; PlatformIO project configuration — LSS Arduino firmware
; Target: Heltec WiFi LoRa 32 v3 (ESP32-S3 + SX1262)

[env:heltec_wifi_lora_32_V3]
platform   = espressif32
board      = heltec_wifi_lora_32_V3
framework  = arduino

monitor_speed = 115200
upload_speed  = 921600

lib_deps =
    ; LoRa SX126x driver for Heltec
    ropg/Heltec ESP32 Dev-Boards @ ^2.0.2
    ; Sensor libraries
    adafruit/DHT sensor library @ ^1.4.6
    adafruit/Adafruit Unified Sensor @ ^1.1.14
    adafruit/Adafruit BME680 Library @ ^2.0.4
    adafruit/Adafruit BH1750 @ ^1.3.0
    adafruit/Adafruit INA219 @ ^1.2.3
    adafruit/Adafruit SHT31 Library @ ^2.2.2
    adafruit/Adafruit BMP280 Library @ ^2.6.8
    paulstoffregen/OneWire @ ^2.3.8
    milesburton/DallasTemperature @ ^3.11.0

build_flags =
    -DARDUINO_HELTEC_WIFI_LORA_32_V3
    -DHELTEC_LORA32V3

; Native unit tests (host build — no hardware required)
[env:native]
platform = native
lib_deps =
    throwtheswitch/Unity @ ^2.6.0
build_flags =
    -DUNITY_INCLUDE_DOUBLE
    -DTEST_BUILD
test_build_src = yes
